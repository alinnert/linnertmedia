<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Linnert Media</title>
  <link href="https://linnertmedia.de"/>
  <link type="application/atom+xml" rel="self" href="https://linnertmedia.de/feed.xml"/>
  <updated>2018-06-05T16:41:23+00:00</updated>
  <id>https://linnertmedia.de/feed.xml</id>
  <author>
    <name>Andreas Linnert</name>
    <email>andreas@linnertmedia.de</email>
  </author>
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/autohotkey-für-angenehmeres-arbeiten-mit-der-tastatur</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/autohotkey-für-angenehmeres-arbeiten-mit-der-tastatur" />
        <title>AutoHotKey für angenehmeres Arbeiten mit der Tastatur</title>
        <published>Sat Jun 10 2017 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Viele Programmierer nutzen Vim als ihre primäre Entwicklungsumgebung unter anderem, weil so gut wie alle Befehle über das Buchstabenfeld der Tastatur erreichbar sind. Mit AutoHotkey lässt sich etwas Ähnliches bewerkstelligen und hat dabei meiner Meinung nach noch weitere Vorteile.</p>
<p>Im konsolenbasierten Text-Editor Vim lässt sich der Textcursor über die Tasten <code>H</code>/<code>J</code>/<code>K</code>/<code>L</code> steuern. Das ist ganz praktisch, da man beim Programmieren sehr oft zwischen dem Buchstabenfeld und den Pfeiltasten hin- und herwechseln muss. Wenn die Pfeiltasten über das Buchstabenfeld steuerbar sind, spart man sich jedoch die wiederholte Hin- und Herbewegung mit der Hand. Die Variante vom Vim-Editor hat meiner Meinung nach allerdings zwei Nachteile. Ich finde die Tastenbelegung nicht sehr intuitiv und sie funktioniert ausschließlich in Vim. Außerhalb muss man auf diese Komfortfunktion verzichten.</p>
<p>Deswegen hab ich etwas nachgeforscht, ob man die Tastaturbelegung nicht generell anpassen kann. Und hierbei bin ich über <a href="https://www.autohotkey.com/">AutoHotkey</a> gestolpert. Primär lässt sich dieses Programm nutzen, um verschiedene Vorgänge per Tastenkürzel zu automatisieren. Konkret lassen sich bspw. Tastenanschläge abfangen und in andere Tastatureingaben umwandeln, die anschließend weiter an das aktive Programm geschickt werden.</p>
<p>Nachdem man AutoHotkey installiert hat, erstellt man Skripte in einer eigens dafür entwickelten Skriptsprache. Diese speichert man in Dateien mit der Endung <code>.ahk</code>. Diese Dateien lassen sich anschließend ausführen und bleiben aktiv, bis man das Skript wieder manuell beendet. Solange die Skripte ausgeführt werden, können sie auf Tastatureingaben reagieren und unterschiedliche Aktionen ausführen.</p>
<p>Daraufhin dachte ich mir folgendes: Die Capslock-Taste wird jetzt nicht so super-oft verwendet, also kann man diese doch in eine zusätzliche Modifier-Taste umfunktionieren. Ist diese gedrückt, möchte ich mit den Tasten <code>I</code>/<code>J</code>/<code>K</code>/<code>L</code> die Pfeiltasten der Tastatur ansprechen können, <code>U</code> und <code>O</code> werden zu “Pos 1” und “Ende”, und <code>Z</code> und <code>H</code> werden zu “Bild auf/ab”. Wo wir schon dabei sind, können wir auch weitere Buchstaben dazu verwenden, die Lautstärke des PCs zu ändern, die Musiksteuerung anzusprechen und weitere Tasten anzusteuern, die sonst etwas schwerer erreichbar sind.</p>
<p>Apropos schwer erreichbare Tasten: Bei der Programmierung brauche ich sehr häufig Zugriff auf die geschweiften Klammern. Diese sind mit <code>Alt Gr</code> + <code>7</code> bzw. <code>0</code> alles andere als angenehm zu tippen. Wie wäre es also, hätte ich die <code>&lt;</code>-Taste als einen weiteren Modifier für Sonderzeichen und die geschweiften Klammern auf <code>J</code> und <code>K</code>? Das setzte sich mit der Zeit immer weiter fort, bis ein Großteil meiner Tastatur belegt war. Ich hab das so aufgesetzte System jetzt einige Zeit lang getestet und es quasi “ausreifen” lassen, bevor ich es jetzt öffentlich mit allen teile.</p>
<p>Wie kann man diese umbelegten Tasten nun selbst ausprobieren? Das benötigt zwar ein paar Handgriffe, ist aber nicht allzu schwierig.</p>
<ol>
<li>
<p>Zuerst muss <a href="https://www.autohotkey.com/">AutoHotkey</a> von der offiziellen Webseite heruntergeladen und installiert werden.</p>
</li>
<li>
<p>Dann erstellt man sich eine Datei mit der Endung <code>.ahk</code>. Der Name und Ort ist egal. Ein Ordner, der mit einer Cloud synchronisiert wird (OneDrive, Dropbox etc.), ist allerdings empfehlenswert.</p>
</li>
<li>
<p>Das Skript, das ich für diesen Zweck erstellt habe sowie eine Liste der wichtigsten Kürzel, findet ihr <a href="https://gist.github.com/alinnert/a4f3868e10eafcfe6b4684dca3f79dfc">hier auf Gist</a>. Den Inhalt des Skripts einfach in die Datei kopieren und speichern.</p>
</li>
<li>
<p>Durch einen Doppelklick auf diese Datei wird das Skript gestartet. Im Systray-Bereich erscheint ein neues Symbol, das anzeigt, dass ein Skript läuft. Über dieses kann ein Skript auch beendet oder neu geladen werden.</p>
</li>
<li>
<p>Möchtet ihr dieses Skript bei jedem Systemstart sofort nutzen können, legt ihr eine Verknüpfung zu dieser <code>.ahk</code>-Datei in folgenden Ordner (Windows 10): <code>%USERPROFILE%\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup\</code></p>
</li>
</ol>
<p>Im oben verlinkten Skript kann man genauer nachlesen, welche Tastenkürzel definiert sind. Das Skript kann man bei Bedarf natürlich auch an seine eigenen Bedürfnisse anpassen. Ein weiterer angenehmer Nebeneffekt ist, dass die verschiedenen Tastaturlayouts bei Laptops nicht mehr so schwer ins Gewicht fallen. Pfeiltasten und weitere Tasten wie “Bild auf/ab”, “Pos 1” und “Ende” sind auch dort immer an der gewohnten Stelle.</p>
<p>Nichtsdestotrotz gibt jedoch ein paar Dinge, die man sich im Hinterkopf behalten sollte:</p>
<ol>
<li>
<p>Das Skript funktioniert nicht, wenn eine Anwendung mit Admin-Berechtigung den Fokus hat. Ich tippe auf einen Schutzmechanismus von Windows.</p>
</li>
<li>
<p>Dadurch, dass die <code>&lt;</code>-Taste zum Modifier umfunktioniert wurde, reagiert diese erst, wenn man diese wieder loslässt.</p>
</li>
<li>
<p>Es dauert natürlich, bis man sich an eine neu belegte Tastatur gewöhnt hat. Bei mir dauerte es zwischen einer und zwei Wochen. Allerdings habe ich die Belegung der Tasten auch Schritt für Schritt aufgebaut.</p>
</li>
<li>
<p>AutoHotkey ist aktuell nur für Windows verfügbar. Ich bin mir nicht sicher, ob es eine ähnliche Lösung für macOS gibt. Für Linux hab ich keine gefunden ‒ außer eigene Tastaturmappings zu erstellen.</p>
</li>
<li>
<p>Wenn man an einem anderen PC sitzt, der das Skript nicht nutzt, kann es vorkommen, dass man aus Gewohnheit eine der neuen Tastenkürzel verwendet und sich wundert, dass der PC nicht wie gewohnt reagiert.</p>
</li>
</ol>
]]></content>
      </entry>
    
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/die-grundlagen-zu-nodejs</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/die-grundlagen-zu-nodejs" />
        <title>Die Grundlagen zu Node.js</title>
        <published>Sat Jun 16 2018 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Node.js ist inzwischen allgegenwärtig in der Welt der Web-Entwicklung. Einige kennen es aber vielleicht nur im Kontext von JavaScript-Server-Anwendungen. Dieser Artikel soll einen groben Überblick über alle Facetten von Node.js geben.</p>
<h2>Allgemeine Informationen</h2>
<p>Node.js ist eine Plattform, die es erlaubt, JavaScript-Code außerhalb eines Web-Browsers auszuführen. Die aktuellen Versionen verwenden <em>V8</em> (Die JavaScript-Engine von Googles Browser <em>Chrome</em>) zum Ausführen von JavaScript-Code. Da V8 nur relativ begrenzte Möglichkeiten bietet, stehen einem des Weiteren noch native APIs zur Verfügung, um beispielsweise auf das lokale Dateisystem oder den Netzwerkverkehr zugreifen zu können.</p>
<p>Dadurch eröffnen sich nun einige Möglichkeiten und Einsatzgebiete. Der Bekannteste darunter ist die Entwicklung von Web-Anwendungs-Servern. Sei es zur Erstellung von HTML-Seiten oder zur Bereitstellung einer REST- oder GraphQL-API. Ein wichtiger Unterschied zu PHP ist hier allerdings, dass kein zusätzlicher Webserver wie Apache notwendig ist, denn Node.js selbst ist bereits der Server. Da man somit quasi seinen eigenen Server baut, hat man auch etwas mehr Freiheiten als mit Fertigpaketen wie Apache.</p>
<p>Weitere Einsatzzwecke sind das Erstellen von Kommandozeilen-Skripten und die Verwendung als Build-Tool für eigene Projekte. Nach der Installation auf einem Rechner stehen drei neue Befehle in der Kommandozeile zur Verfügung: <code>node</code>, <code>npm</code> und <code>npx</code>.</p>
<h2>Der <code>node</code>-Befehl</h2>
<p>Mit dem Befehl <code>node</code> lassen sich <code>.js</code>-Dateien ausführen, aber auch eine interaktive JavaScript-Konsole starten. Letztere startet man einfach durch ausführen von <code>node</code> in der Kommandozeile. Gibt man als Parameter allerdings eine JavaScript-Datei an, so wird der Code in dieser Datei ausgeführt. Führt man also den Befehl <code>node my-script.js</code> aus — und geht davon aus, dass diese Datei existiert und den Code <code>console.log('Hallo Welt')</code> enthält — dann wird &quot;Hallo Welt&quot; in der Kommandozeile ausgegeben.</p>
<p>Unter Linux und Unix kann man sogar einen Schritt weitergehen und Skripte erstellen, die sich wie übliche Bash-Skripte starten lassen (<code>./my-script.js</code>). Dazu muss die JavaScript-Datei in der ersten Zeile folgendes beinhalten: <code>#!/usr/bin/env node</code>.</p>
<p>Dadurch lassen sich einerseits Skripte erstellen, die einen endlichen Job erledigen und irgendwann fertig sind — z. B. Dateien kopieren. Oder aber es wird ein Dienst gestartet, der permanent im Hintergrund läuft und auf Verbindungen oder Anfragen wartet.</p>
<h2>Neue Projekte anlegen mit <code>npm init</code> und <code>package.json</code></h2>
<p>Npm ist die in Node.js integrierte Paketverwaltung. Damit lassen sich Projekte erstellen und dessen Abhängigkeiten verwalten. In der Regel beginnt man damit, dass man in einem Ordner ein Npm-Projekt initialisiert. Das geschieht in der Regel im Hauptverzeichnis des Projekts, an dem man arbeitet, mit folgendem Befehl: <code>npm init</code>. Danach werden einem einige Fragen zum Projekt gestellt: Name, Version, Autor, Lizenz etc. Die muss man nicht sofort und absolut gewissenhaft beantworten, denn ein späteres Ändern der Daten ist sehr einfach möglich.</p>
<p>Nachdem das Projekt initialisiert wurde, findet man im Projektverzeichnis eine neue Datei: <code>package.json</code>. Diese beinhaltet alle vorhin eingegebenen Daten. Mehr ist dabei auch nicht passiert. Man kann diese Datei alternativ also auch per Hand erstellen. Diese Datei umfasst alle Informationen zum aktuellen Projekt und lässt sich als Dreh- und Angelpunkt dessen sehen. Ein händisches Editieren der Datei ist problemlos möglich und stellenweise sogar erforderlich.</p>
<h2>Pakete installieren mit <code>npm install</code></h2>
<p>In der <code>package.json</code> befinden sich u. a. die Felder <code>dependencies</code> und <code>devDependencies</code>. Diese listen die Pakete auf, die vom aktuellen Projekt benötigt werden, damit das Projekt lauffähig ist. Unter <a href="https://npmjs.org">npmjs.org</a> kann man sich einen Überblick über alle verfügbaren Pakete verschaffen.</p>
<p>Die beiden Felder unterscheiden sich dabei nur darin, dass <code>devDependencies</code> alle Pakete beinhaltet, die zur Entwicklung am Projekt notwendig sind. <code>dependencies</code> listet alle Pakete auf, die zur generellen Funktionalität des Projekts notwendig sind. <code>devDependencies</code> beinhaltet also je nach Art des Projekts beispielsweise Entwicklerwerkzeuge wie Linter, Test-Tools, TypeScript-Definitionen und ähnliches.</p>
<p>Möchten wir jetzt ein neues Paket installieren, bewegen wir uns in der Kommandozeile erst einmal in das Verzeichnis, das die <code>package.json</code> beinhaltet. Dann führen wir den Befehl <code>npm install &lt;name-of-package&gt;</code> aus, wobei <code>&lt;name-of-package&gt;</code> der Name des Pakets ist, das wir installieren möchten. Installieren wir beispielsweise das Framework <em>Vue</em> würde das so aussehen: <code>npm install vue</code>. Der exakte Name des Paketes ist in der Regel in der Dokumentation der Bibliothek zu finden, oder direkt unter <a href="https://npmjs.org">npmjs.org</a>.</p>
<p>Was passiert nun bei der Installation? Alle installierten Pakete landen im Ordner <code>node_modules</code>, der neben unserer <code>package.json</code> angelegt wird, sollte er noch nicht existieren. Außerdem wird dieses Paket in der <code>package.json</code> im Feld <code>dependencies</code> automatisch hinterlegt. Das hat folgenden Vorteil: Bei der Verwendung einer Versionskontrolle wie Git brauchen wir den Inhalt von <code>node_modules</code> nicht mit unter Versionierung stellen. Checkt man das Projekt frisch aus und hat lediglich die <code>package.json</code>, reicht ein einfaches <code>npm install</code> und es werden automatisch alle Pakete erneut installiert, die in der <code>package.json</code> unter <code>dependencies</code> (und <code>devDependencies</code>) aufgelistet sind.</p>
<h2>Skripte ausführen mit <code>npm run</code></h2>
<p>In der <code>package.json</code> befindet sich auch ein Feld <code>scripts</code>. Dies beinhaltet eine Liste selbstdefinierter Skripte, die man immer wieder braucht. Npm hilft einem auch dabei, häufig benötigte Skripte schneller und einfacher ausführen zu können. Ein Skript definiert man, indem man dem <code>scripts</code>-Objekt ein Key-Value-Paar hinzufügt. Der „key“ ist dabei der Name des Skripts, der „value“ das Skript, das dann letzten Endes ausgeführt wird.</p>
<div class="filename">Datei: package.json (Beispiel)</div><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
	...
	<span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack -p"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Im Grunde können die Skripte alles enthalten, was man auch in der Kommandozeile schreiben kann. Zusätzlich jedoch können ohne Umwege Skripte aufgerufen werden, die über Npm installiert wurden. Stellt ein <strong>lokal und nicht global</strong> installiertes Paket einen Kommandozeilenbefehl zur Verfügung (wie es zum Beispiel bei <code>webpack</code> der Fall ist), wäre dieser üblicherweise über <code>./node_modules/.bin/webpack</code> verfügbar. Diese umständliche Pfadangabe ist im <code>scripts</code>-Teil der <code>package.json</code> nicht notwendig. Es reicht ein einfaches <code>webpack</code>.</p>
<h2>Skripte ausführen mit <code>npx</code></h2>
<p>Npx ist neu mit Npm 5.0 hinzugekommen. Es vereinfacht das Ausführen von Kommandozeilenbefehlen, die durch Npm installiert wurden ungemein. Seitdem lässt sich das oben genannte Beispiel <code>./node_modules/.bin/webpack</code> durch <code>npx webpack</code> abkürzen. (In der <code>package.json</code> ist es aber weiterhin nicht notwendig)</p>
<p>Wird versucht, durch Npx einen Befehl auszuführen, der nicht existiert, wird automatisch das jeweilige Skript temporär via Npm installiert und anschließend ausgeführt. Dies ist vor allem dann hilfreich, wenn man einen Befehl nur ausprobieren möchte oder ihn nur sehr selten benötigt — zum Beispiel <code>yo</code> von <a href="http://yeoman.io/"><em>Yeoman</em></a>.</p>
<h2>Pakete global installieren mit <code>npm install --global</code></h2>
<p>Die Möglichkeit, Pakete global auf dem System zu installieren, gerät mit der Zeit immer mehr in den Hintergrund. Durch Npx ist es einerseits nicht mehr notwendig, andererseits wird es an einigen Stellen empfohlen, Skripte im Projektkontext statt global zu installieren.</p>
<p>Einen interessanten Einsatzzweck hat die globale Installation von Paketen aber dennoch: Das Entwickeln von systemunabhängigen Kommandozeilenskripten, die die Arbeit mit der Kommandozeile vereinfachen sollen. Ein global installiertes Paket ergibt nur dann Sinn, wenn es einen Befehl für die Kommandozeile bereitstellt, der in vielen Ordnern einsetzbar ist. Ein Beispiel wäre <a href="https://github.com/DeMille/bookmark">bookmark</a>, ein kleines Kommandozeilen-Werkzeug, mit dem man Ordner als Lesezeichen anlegen kann, um schneller dorthin navigieren zu können.</p>
<h2>Node mit ChakraCore</h2>
<p>Aktuell arbeitet Microsoft auch an einer Version von Node.js mit ChakraCore statt V8. ChakraCore ist die JavaScript-Engine des Browsers Edge. Man kann diese Version in Form einer Vorschau-Version ausprobieren. Der Quellcode ist auf <a href="https://github.com/nodejs/node-chakracore">GitHub</a> zu finden.</p>
<h2>Node.js und WASM</h2>
<p>Node.js wird in Zukunft mit <em>WASM</em> (WebAssembly) vermutlich noch etwas mehr an Bedeutung und Vielfältigkeit gewinnen. WASM, kurz erklärt, ist ein compile target für allerlei Programmiersprachen. WASM verwendet dabei die Laufzeitumgebung, die auch von JavaScript verwendet wird, allerdings wird beim Kompiliervorgang quasi an JavaScript &quot;vorbeikompiliert&quot;. Dadurch ist für WASM kompilierter Programmcode sehr performant. Da Node.js eine Plattform ist, die auf einer Unzahl von Plattformen lauffähig ist, gilt das auch für WASM-Programme.</p>
<p>Unterm Strich erlaubt dies das Entwickeln von performanter Software in einer beliebigen Programmiersprache, die überall dort lauffähig ist, wo man eine WASM-kompatible JavaScript-Engine vorfindet. Das heißt konkret: Jede Plattform, auf der Node.js lauffähig ist und auch jeder aktuelle Web-Browser. Die aktuell primär unterstützten Sprachen sind C/C++ und Rust von Mozilla. Weitere Sprachen werden bald folgen. Darunter bekannte Sprachen, aber auch werden daraufhin neue Sprachen entstehen, die primär auf WASM abgestimmt sind, zum Beispiel <a href="https://github.com/AssemblyScript/assemblyscript">AssemblyScript</a> oder <a href="https://github.com/utatti/kou">Kou</a>.</p>
]]></content>
      </entry>
    
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/javascript-objekte</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/javascript-objekte" />
        <title>Objekte in JavaScript</title>
        <published>Sun Sep 13 2015 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Objekte sind ein Hauptbestandteil von JavaScript. Diese erlauben es, Strukturen aufzubauen oder Daten und Funktionalitäten zusammenzufassen. Dieser Artikel erklärt, wie sie funktionieren und wie man mit ihnen umgeht.</p>
<div class="info-box"><div class="info-box__title">Info: Vorwort</div><p>Sehr bald nachdem ich den letzten Artikel veröffentlicht hatte, hat sich mein Bild über Objekte etwas verändert. Ich hab Artikel über JavaScript-Objekte und -Klassen gelesen, begonnen das Buch <a href="http://chimera.labs.oreilly.com/books/1234000000262">Programming JavaScript Applications</a> (von Eric Elliot) zu lesen und Aufzeichnungen von Vorträgen zu diesem Thema anzusehen. Dadurch bin ich jetzt in der Lage, einen tieferen Blick in Objekte zu gewähren als noch vor ein paar Wochen.</p>
</div><h2>Objekte erstellen</h2>
<p>Objekte kann man sich als Gruppierung mehrerer Variablen vorstellen. Gehen wir von folgendem Beispiel aus.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Andreas'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mail <span class="token operator">=</span> <span class="token string">'andreas@linnertmedia.de'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> admin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> mail<span class="token punctuation">,</span> admin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > Andreas andreas@linnertmedia.de true</span>
</code></pre>
<p>All diese Daten gehören zu einem Benutzer. Diesen Benutzer möchten wir auch gerne als solchen behandeln und nicht einzeln von seinen ganzen Eigenschaften sprechen. Hier kommen Objekte ins Spiel.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Andreas'</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>mail <span class="token operator">=</span> <span class="token string">'andreas@linnertmedia.de'</span><span class="token punctuation">;</span>
user<span class="token punctuation">.</span>admin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > Object {name: "Andreas", mail: "andreas@linnertmedia.de", admin: true}</span>
</code></pre>
<p>Somit kann man alle Daten des Nutzers über das Objekt <code>user</code> ansprechen. Man nennt die Werte ab hier allerdings nicht mehr Variablen sondern Eigenschaften oder Properties. Üblicher und kürzer ist allerdings folgende Schreibweise.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Andreas'</span><span class="token punctuation">,</span>
    mail<span class="token punctuation">:</span> <span class="token string">'andreas@linnertmedia.de'</span><span class="token punctuation">,</span>
    admin<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Es gibt hier einige wichtige Punkte, die man sich im Hinterkopf behalten sollte. Durch die Klammerschreibweise wird ein neues Objekt erstellt. Weist man dieses Objekt einer Variable (oder auch einer Objekteigenschaft) zu, geht der vorherige Wert verloren. Näheres hierzu erläutere ich in einem eigenen Artikel.</p>
<h2>Die Namen der Eigenschaften</h2>
<p>Die Namen der Eigenschaften selbst — in unserem Beispiel <code>name</code>, <code>mail</code> und <code>admin</code> — können jeden simplen Datentyp annehmen (<code>string</code>, <code>number</code>, <code>boolean</code> und <code>symbol</code>). Um das zu demonstrieren, muss eine weitere Möglichkeit verwendet werden, um auf Eigenschaften zuzugreifen.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> thing <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

thing<span class="token punctuation">[</span><span class="token string">'hallo welt'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Hallo JavaScript!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thing<span class="token punctuation">[</span><span class="token string">'hallo welt'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "Hallo JavaScript!"</span>

thing<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'The Answer'</span><span class="token punctuation">;</span>
thing<span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'yes'</span><span class="token punctuation">;</span>

thing<span class="token punctuation">[</span>user<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thing<span class="token punctuation">.</span>Andreas<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > 123</span>

<span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'Blume'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
thing<span class="token punctuation">[</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Tulpe'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thing<span class="token punctuation">.</span>Blume<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "Tulpe"</span>
</code></pre>
<p>Die Schreibweise mit eckigen Klammern erlaubt mehr Flexibilität bei der Benennung von Eigenschaften. So kann man beispielsweise auch Leerzeichen oder sogar Zeilenumbrüche verwenden. Ein Nebeneffekt bei der Verwendung von <code>boolean</code> und <code>number</code> ist, dass deren Werte automatisch auch in String-Form verwendbar sind. Es verhält sich in etwa so, als würde automatisch die <code>toString</code>-Methode aufgerufen werden, wenn man einen Boolean- oder Zahlenwert als Propertynamen verwendet. Für Symbole gilt dies allerdings nicht. Da sich Symbole hier sowieso etwas eigen verhalten und die Unterstützung noch nicht so verbreitet ist, gehe ich an dieser Stelle nicht weiter darauf ein.</p>
<pre class="language-js"><code class="language-js">thing<span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'The Answer'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thing<span class="token punctuation">[</span><span class="token string">'42'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "The Answer"</span>
</code></pre>
<p>Ein Einsatzzweck für diese Art der Flexibilität lässt sich sicher schwer finden, jedoch demonstriert dies, was in JavaScript möglich wäre und dass JavaScript-Objekte im Grunde nichts mit Java-Objekten zu tun haben. Unter diesem Gesichtspunkt halte ich den Satz “Alles in JavaScript ist ein Objekt” für Umsteiger äußerst irreführend. Denn er erklärt nicht, wie der Begriff “Objekt” zu verstehen ist.</p>
<p>Natürlich gilt außerdem weiterhin:</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "object"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "string"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">typeof</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "string"</span>
</code></pre>
<h2>Prototypen</h2>
<p>Durch ECMAScript 2015 werden Klassen in JavaScript eingeführt. Es gibt Leute, welche der Meinung sind, Klassen sind eines der schlechtesten Features, die auf JavaScript zukommen werden. Ein Grund ist, dass es keine echten Klassen sind und sich die Funktionsweise leicht von wirklich klassenbasierten Sprachen unterscheiden. Der größte Grund ist allerdings, dass JavaScript bereits eine Mechanik bietet, die flexibler ist als Klassen: Prototypen.</p>
<div class="info-box"><div class="info-box__title">Info: Am Rande</div><p>Ich hab selbst etwas Zeit gebraucht, die Argumente dieser Leute zu verstehen. Der Grund liegt in der leider etwas flachen Argumentation und den fehlenden Beispielen. Nachdem ich mich auf Prototypen eingelassen hatte, wurde mir jedoch vieles klar. Ich möchte an dieser Stelle jedoch nur auf die Funktionsweise der Prototypen eingehen. Für die Vorteile von Prototypen gegenüber Klassen empfehle ich andere Quellen. Videos, Vorträge, Bücher…</p>
</div><p>Besitzt ein Objekt einen Prototypen, hat man Zugriff auf alle Eigenschaften des Prototyps, ohne Gefahr zu laufen, diese versehentlich zu manipulieren. Da dieser Prototyp ebenfalls ein Objekt ist, kann dieser wiederum einen Prototypen besitzen. Man spricht hier von der Prototypenkette. Greift man auf eine Eigenschaft eines Objekts zu, wird bei diesem Objekt geprüft, ob es eine Eigenschaft mit diesem Namen besitzt. Ist das nicht der Fall, wird dessen Prototyp überprüft usw. Wird eine Eigenschaft in keinem Objekt der Prototypenkette gefunden, ist der Wert <code>undefined</code>.</p>
<p>Ich stelle mir Objekte im Zusammenhang mit Prototypen wie einen Stapel Blätter vor. Von oben betrachtet sitzt jede Eigenschaft am gleichen Platz auf dem Papier. Fehlt eine Eigenschaft in einem Objekt, befindet sich an der entsprechenden Stelle ein Loch, durch das man das darunterliegende Papier und dessen Wert für diese Eigenschaft sieht, sofern dort ein Wert festgelegt ist.</p>
<div class="info-box"><div class="info-box__title">Info: ECMAScript 5 und der Internet Explorer</div><p>Einige der hier verwendeten Methoden sind Teil von <em>ECMAScript 5</em>. Diese erfordern <em>Internet Explorer 9</em> oder höher. Für ältere Internet Explorer-Versionen gibt es andere Möglichkeiten, mit Prototypen zu arbeiten.</p>
</div><p>Man kann Prototypen folgendermaßen definieren. Ich werde hierzu bereits Funktionen in den Beispielen verwenden. Hierzu folgt aber noch ein separater Artikel.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> user<span class="token punctuation">,</span> andreas<span class="token punctuation">,</span> minka<span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sayYourName</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'My name is '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

andreas <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
andreas<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Andy'</span><span class="token punctuation">;</span>

minka <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Minka'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayYourName</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' Miau!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>minka<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

andreas<span class="token punctuation">.</span><span class="token function">sayYourName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "My name is Andy"</span>
minka<span class="token punctuation">.</span><span class="token function">sayYourName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > "Minka Miau!"</span>
</code></pre>
<p>Bei der Erstellung von Objekten trenne ich sehr gerne die Deklaration und Initialisierung der Variablen, da das sonst sehr schnell unübersichtlich wird, und die Kommata am Ende von Objekten auf mich etwas seltsam wirken.</p>
<p>Wir erstellen ein Objekt <code>user</code>, das die Basis von Nutzerobjekten sein wird. Mit <code>Object.create(prototype)</code> erstellen wir ein neues Objekt, legen aber gleichzeitig auch dessen Prototyp fest. Da das Objekt <code>andreas</code> nun <code>user</code> als Prototypen besitzt, erbt es auch dessen Funktion <code>sayYourName</code>. <code>andreas.sayYourName</code> zeigt somit auf die Funktion, die in <code>user</code> definiert wurde. Es handelt sich auch exakt um diese Funktion. Es wurde keine Kopie erstellt.</p>
<p>Das Schlüsselwort <code>this</code> zeigt dabei immer auf das Objekt, in dessen Kontext die Funktion aufgerufen wurde. Da wir nicht <code>user.sayYourName()</code> aufgerufen haben, sondern <code>andreas.sayYourName()</code>, sucht <code>this</code> innerhalb von <code>andreas</code> nach einer Eigenschaft mit dem Namen <code>name</code>.</p>
<p><code>Object.setPrototypeOf(object, prototype)</code> erlaubt das nachträgliche Setzen oder Ändern des Prototyps eines Objekts.</p>
<p>Mit der Methode <code>hasOwnProperty</code> lässt sich prüfen, ob ein Objekt selbst eine bestimmte Eigenschaft besitzt, oder ob es sie nur durch Vererbung hat.</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>andreas<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>andreas<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'sayYourName'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > false</span>
</code></pre>
<p>Woher kommt die Funktion <code>hasOwnProperty</code>? Jedes neu erstellte Objekt hat automatisch einen Prototypen, nämlich <code>Object.prototype</code>.</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span>hasOwnProperty <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// > true</span>
</code></pre>
<p>Da der Artikel bereits sehr lang und vollgestopft mit Informationen ist, mache ich an dieser Stelle einen Schnitt.</p>
]]></content>
      </entry>
    
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/variablen-undefined-und-simple-datentypen</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/variablen-undefined-und-simple-datentypen" />
        <title>Variablen, undefined und simple Datentypen in JavaScript</title>
        <published>Mon Jun 29 2015 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Leute, die von anderen objektorientierten Programmiersprachen wie Java oder C# nach JavaScript wandern, fühlen sich unter Umständen irritiert. JavaScript ist einfach anders, bietet aber eine vertraute C-ähnliche Syntax. In der Tat hab ich bereits gelesen, dass JavaScript als &quot;unlernbare Sprache&quot; betitelt wurde. Diese Blog-Serie erklärt die Grundlagen und Funktionsweise von JavaScript, um ihr diesen schlechten Ruf wieder abzunehmen.</p>
<div class="info-box"><div class="info-box__title">Info: Strict Mode</div><p>Bevor wir wirklich beginnen, ein kleiner Hinweis: Es wird generell empfohlen, den strict mode von JavaScript zu aktivieren. Dazu am Anfang einer <code>.js</code>-Datei oder eines JavaScript-Blocks im HTML einfach <code>'use strict';</code> schreiben. Im strict mode werden mehr Fehler geworfen, um unerwartetes Verhalten zu vermeiden. Eine genaue Beschreibung ist hier zu lesen:</p>
<p><a href="http://www.mediaevent.de/javascript/strict-mode.html">http://www.mediaevent.de/javascript/strict-mode.html</a></p>
<p>Eventuell folgt später auch eine Zusammenfassung der Auswirkungen von meiner Seite in diesem Blog. Meine Artikel zum Thema JavaScript gehen jedenfalls von <strong>aktiviertem strict mode</strong> aus.</p>
</div><p>Eventuell folgt später auch eine Zusammenfassung der Auswirkungen von meiner Seite in diesem Blog. Meine Artikel zum Thema JavaScript gehen jedenfalls von aktiviertem strict mode aus.</p>
<h2>Variablen</h2>
<p>Variablen werden mit dem keyword <code>var</code> deklariert. Wann und wo man Variablen deklariert, ist egal. Es muss also nicht zu Beginn einer Funktion sein. Die Variable ist ab dem deklarierten Zeitpunkt für den gesamten restlichen Verlauf der aktuellen Funktion sichtbar.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> tree<span class="token punctuation">,</span> i<span class="token punctuation">,</span>
    theAnswer <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">,</span>
    darling <span class="token operator">=</span> kitten <span class="token operator">=</span> <span class="token string">'Minka'</span><span class="token punctuation">;</span>
</code></pre>
<p>(Aktuell ignoriere ich hier die beiden neuen keywords <code>let</code> und <code>const</code>, die mit ECMAScript 6 eingeführt werden, da sie im Normalfall noch nicht verwendet werden können.)</p>
<p>Gültige Variablennamen können Buchstaben (case sensitive), Zahlen und die beiden Zeichen <code>_</code> und <code>$</code> beinhalten. Zahlen dürfen jedoch nicht am Anfang des Namens stehen.</p>
<p>Datentypen kann man in zwei Kategorien unterteilen: simple und komplexe Datentypen. Zusätzlich gibt es noch den Typen <code>undefined</code>, der eine besondere Rolle spielt. Simple Datentypen sind: <code>boolean</code>, <code>number</code>, <code>string</code> und der ab ECMAScript 6 neue Typ <code>symbol</code>. Komplexe Typen sind: <code>object</code> und <code>function</code>.</p>
<p>Von welchem Datentyp eine Variable ist, findet man mit dem Schlüsselwort <code>typeof</code> heraus. Man kann <code>typeof</code> verwenden wie eine Funktion, muss man aber nicht. Siehe dazu folgende Beispiele:</p>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "object"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "object"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">typeof</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "string"</span>
</code></pre>
<p>Da das Ergebnis von <code>typeof</code> selbst immer ein String ist, kann man rein theoretisch den Typ davon ebenfalls mit <code>typeof</code> abfragen. (Siehe dritte Zeile oben) Die Sinnigkeit ist zwar ohne Frage anzweifelbar, allerdings verdeutlicht dieses Beispiel, was ich anfangs mit den Bausteinen aufzeigen wollte.</p>
<p>Sicher fragen sich jetzt einige, was denn mit Arrays ist. Die Antwort zu Arrays beantworte ich allerdings später, wenn ich den Datentyp <code>object</code> genauer behandle.</p>
<h2>Der Datentyp <code>undefined</code></h2>
<p>Bei <code>undefined</code> muss man unterscheiden, ob eine Variable oder nur deren Wert nicht definiert ist. Hierzu folgendes Beispiel:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> tree<span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Baum'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'kein Baum'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">// > "kein Baum"</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>flower<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Blume'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'keine Blume'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">// > Uncaught ReferenceError</span>
</code></pre>
<div class="info-box"><div class="info-box__title">Info: Truthy/Falsy Value</div><p>Wird an einer Stelle ein boolescher Wert erwartet, aber keiner geliefert, wandelt JavaScript den vorhandenen Wert automatisch um. Das Ergebnis entspricht in aller Regel dem, was man normalerweise erwartet. Man spricht hier von “Truthy Value” bzw. “Falsy Value”.</p>
<p>Falsy Values sind: <code>false</code>, <code>null</code>, <code>undefined</code>, <code>0</code>, <code>NaN</code> und <code>''</code>.</p>
<p>Da <code>0</code> ein Falsy Value ist, lässt sich mit <code>if (allFlowers.length)</code> einfach abfragen, ob ein Array Elemente beinhaltet. Natürlich spricht nichts dagegen, wenn man Bedingungen spezifischer angeben möchte: <code>if (allFlowers.length &gt; 0)</code></p>
</div><p>Beim ersten <code>if</code>-Statement (<code>if (tree)</code>) wird “kein Baum” in der JavaScript-Konsole ausgegeben, da eine nicht initialisierte Variable den Wert <code>undefined</code> hat, welcher schließlich als <code>false</code> interpretiert wird (“falsy value”). Dies kann man sich z. B. auch bei Funktionsparametern zunutze machen. Möchte man prüfen, ob ein Wert für einen bestimmten Parameter übergeben wurde, lässt sich das folgendermaßen bewerkstelligen:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">logSomeText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'kein Text eingegeben'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Ein paar ergänzende Beispiele:</span>
<span class="token keyword">var</span> tree<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> tree<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "undefined"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>tree <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "boolean"</span>
</code></pre>
<p>Beim zweiten <code>if</code>-Statement (<code>if (flower)</code>) dagegen wird ein <code>ReferenceError</code> geworfen. (Ein <code>Error</code> entspricht einer <code>Exception</code> in anderen Sprachen.) Prinzipiell vermeidet man diesen Fehler, indem man keine Variablen verwendet, bevor man sie mit <code>var</code> oder als Funktionsparameter deklariert.</p>
<h2>Simple Datentypen</h2>
<p>Bei den simplen Datentypen gibt es kaum Überraschungen. Wichtig zu wissen ist allerdings, dass alle simplen Typen als Wert gespeichert werden. Die Wertübergabe erfolgt also “by value”.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> myNumber<span class="token punctuation">,</span> myString<span class="token punctuation">,</span> myBool<span class="token punctuation">;</span>

myNumber <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
myNumber <span class="token operator">=</span> <span class="token number">13.37</span><span class="token punctuation">;</span>
myString <span class="token operator">=</span> <span class="token string">'Hallo Welt'</span><span class="token punctuation">;</span>
myBool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> myNumber<span class="token punctuation">,</span> <span class="token keyword">typeof</span> myString<span class="token punctuation">,</span> <span class="token keyword">typeof</span> myBool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// > "number string boolean"</span>
</code></pre>
<p>JavaScript wechselt zwischen Ganz- und Kommazahlen automatisch, sofern notwendig. Beides wird einfach im Typ <code>number</code> zusammengefasst.</p>
<p>Strings können in doppelte sowie einfache Anführungszeichen geschrieben werden. Im Gegensatz zu PHP gibt es technisch keinen Unterschied. Ich persönlich bevorzuge die Schreibweise mit den einfachen Anführungszeichen, da in Strings gerne mal HTML auftauchen kann und so Attribute wie gewohnt mit doppelten Anführungszeichen geschrieben werden können, ohne diese (mit dem Backslash <code>\</code>) entwerten zu müssen. Bei Texten, in denen viele Apostrophe vorkommen, bietet sich die Verwendung von doppelten Anführungszeichen an. Mehrere Strings werden wie aus vielen anderen Sprachen bekannt mit dem Plus-Zeichen aneinandergehängt.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">var</span> greeting <span class="token operator">=</span> <span class="token string">'Hallo '</span> <span class="token operator">+</span> <span class="token string">'Welt'</span><span class="token punctuation">;</span>
</code></pre>
<p>Der simple Typ <code>symbol</code> sowie die komplexen Typen <code>object</code> und <code>function</code> sprengen allerdings den Rahmen dieses Artikels und werden später gesondert behandelt. Der nächste Artikel wird direkt die beiden komplexen Datentypen behandeln, da sie prinzipiell den Kern von JavaScript darstellen.</p>
]]></content>
      </entry>
    
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/wie-funktioniert-this</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/wie-funktioniert-this" />
        <title>Wie funktioniert &quot;this&quot; in JavaScript?</title>
        <published>Sun Feb 17 2019 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Das Keyword <code>this</code> in JavaScript ist eines der am meisten missverstandenen Sprachfeatures. Die Verwirrung rührt in der Regel daher, dass es in anderen Sprachen ebenfalls ein <code>this</code>-Keyword gibt, mit einer scheinbar ähnlichen Funktionsweise. Oft wird davon abgeraten, <code>this</code> überhaupt zu verwenden. Ich möchte in diesem Artikel die Angst vor dem Schlüsselwort nehmen und erklären, wie es genau funktioniert.</p>
<p>Andere klassenbasierte Sprachen ‒ z. B. Java ‒ verwenden <code>this</code>, um auf die aktuelle Instanz einer Klasse zu verweisen. Schaut man jetzt zu JavaScript, stellt man fest, dass es hier keine Klassen gibt. Dadurch ist es für JavaScript gar nicht möglich, <code>this</code> genauso zu implementieren wie Java es tut. Es wurde mit ECMAScript 2015 zwar das Keyword <code>class</code> eingeführt, aber eine Garantie, dass <code>this</code> <strong>immer</strong> auf die Instanz dieser Klasse zeigt, ist auch hier nicht gegeben. Dadurch wird verhindert, dass neue Sonderregelungen und Abweichungen von der bisherigen Funktionsweise in die Sprache Einzug erhalten.</p>
<p>Doch wie funktioniert <code>this</code> nun genau? Man stellt sich <code>this</code> am besten als eine Art <em>nullten</em> (noch vor dem zuerst platzierten), impliziten Funktionsparameter vor. Dieser wird ebenfalls implizit an eine Funktion übergeben, man kann ihn aber auch explizit angeben.</p>
<h2>Implizite Belegung von <code>this</code></h2>
<p>Wann wird <code>this</code> implizit an eine Funktion übergeben? Bei jedem einzelnen Funktionsaufruf. Was ist der Wert von <code>this</code>? Das Objekt, über das die Funktion aufgerufen wird. Ob <code>this</code> mit einem Wert belegt wird und mit welchem Wert es belegt wird, hängt also vollständig davon ab, wie der Funktionsaufruf exakt aussieht. Wird eine Funktion als reine Funktion aufgerufen, hängt der Wert von <code>this</code> davon ab, ob das Skript im &quot;strict&quot; mode läuft, oder nicht. Hier ein paar Beispiele:</p>
<pre class="language-js"><code class="language-js"><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// innerhalb von foo:</span>
<span class="token comment">// ("strict" mode ist aus) this === window</span>
<span class="token comment">// ("strict" mode ist an) this === undefined</span>

foo<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// innerhalb von bar → this === foo</span>
foo<span class="token punctuation">.</span>bar<span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// innerhalb von baz → this === foo.bar</span>
</code></pre>
<p>Dieses Verhalten ändert sich nicht, wenn man Funktionen nimmt und sie anderen Variablen oder Eigenschaften zuweist.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outerFunction</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">innerFunction</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token function">outerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> window|undefined</span>
obj1<span class="token punctuation">.</span><span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> obj1</span>

obj1<span class="token punctuation">.</span>outerFunction <span class="token operator">=</span> outerFunction
obj1<span class="token punctuation">.</span><span class="token function">outerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> obj1</span>

<span class="token keyword">const</span> innerFunction <span class="token operator">=</span> obj1<span class="token punctuation">.</span>innerFunction
<span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> window|undefined</span>

obj2<span class="token punctuation">.</span>innerFunction <span class="token operator">=</span> obj1<span class="token punctuation">.</span>innerFunction
obj2<span class="token punctuation">.</span><span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> obj2</span>
</code></pre>
<h2>Explizite Belegung von <code>this</code></h2>
<p>Man kann auch explizit einen Wert für <code>this</code> angeben. Man spricht hier von <em>binding</em>. Dazu benötigen wir eine von 3 Methoden, die jedes Funktionsobjekt besitzt. Wir erinnern uns: Auch Funktionen sind Objekte. Die einfachste Möglichkeit ist die <code>.call</code>-Methode. Diese verwendet man so:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Max'</span><span class="token punctuation">,</span>
  <span class="token function">greetUser</span> <span class="token punctuation">(</span><span class="token parameter">greeting<span class="token punctuation">,</span> suffix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> suffix<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Egon'</span> <span class="token punctuation">}</span>

user<span class="token punctuation">.</span><span class="token function">greetUser</span><span class="token punctuation">(</span><span class="token string">'Hallo'</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token comment">// -> 'Hallo, Max.'</span>
user<span class="token punctuation">.</span><span class="token function">greetUser</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token string">'Moin'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">)</span> <span class="token comment">// -> 'Moin, Egon!'</span>
</code></pre>
<p>Bei dieser Methodik sieht man auch wunderbar die Parameter-Natur von <code>this</code>. Der Wert von <code>this</code> wird als erstes an die <code>.call</code>-Methode übergeben, die sonst für eine Funktion üblichen Parameter rücken eine Stelle weiter nach hinten.</p>
<p>Des weiteren gibt es noch die <code>.apply</code>-Methode. Diese Funktioniert im Prinzip genauso, mit der Ausnahme, dass die Parameter für die aufgerufene Funktion nicht einzeln, sondern als Array übergeben werden. Dies ist auch eine beliebte Methode, um Funktionen zu erstellen, die beliebig viele Parameter annehmen. Hier ein Beispiel:</p>
<pre class="language-js"><code class="language-js">user<span class="token punctuation">.</span><span class="token function">gridUser</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>user2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'Moin'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>Zuletzt gibt es noch die dritte Methode <code>.bind</code>. Diese ruft, anders als <code>.call</code> und <code>.apply</code> die Funktion nicht direkt auf, sondern liefert lediglich eine veränderte Variante der Funktion zurück, in der der Wert von <code>this</code> bereits festgesetzt ist. Dies ist hilfreich, wenn man eine Referenz auf eine Funktion an eine andere Funktion übergeben möchte, man aber den Wert von <code>this</code> innerhalb der übergebenen Funktion festlegen möchte. Hier ein simples Basisbeispiel:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">logValue</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> logValueOfObj <span class="token operator">=</span> <span class="token function">logValue</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token function">logValueOfObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -> 42</span>
</code></pre>
<p>Ist eine Funktion einmal an einen Wert für <code>this</code> gebunden, kann dieser durch nichts mehr geändert werden.</p>
<p>Ein gutes Praxisbeispiel hierfür ist das Setzen eines EventListeners:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token function">onBodyClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">/* 2 */</span>

    <span class="token keyword">function</span> <span class="token function">onBodyClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">/* 3 */</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">/* 1 */</span>
</code></pre>
<p><em>Erklärung:</em> Alles beginnt mit dem Funktionsaufruf <code>obj.main()</code> bei <code>/* 1 */</code>. Dadurch wird der Wert von <code>this</code> innerhalb der <code>main</code>-Funktion auf <code>obj</code> festgelegt. Beim Setzen des EventListeners bei <code>/* 2 */</code> wird der Wert von <code>this</code> innerhalb der <code>onBodyClick</code>-Funktion auf das aktuelle <code>this</code> gesetzt, also <code>obj</code>. Damit (und nur damit) hat auch <code>onBodyClick</code> bei <code>/* 3 */</code> Zugriff auf <code>obj</code> über <code>this</code>.</p>
<p>Warum ist das notwendig? Das liegt an der Natur von Callbacks und sieht man schön an einem erweiterten Beispiel:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSomeData</span> <span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">doMagicStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">handler</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">/* 2 */</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">getSomeData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>gotSomeData<span class="token punctuation">)</span> <span class="token comment">/* 1 */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">gotSomeData</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data <span class="token comment">/* 3 */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><em>Erklärung:</em> Auch wenn die Funktionsreferenz zu <code>gotSomeData</code> bei <code>/* 1 */</code> noch eine Verbindung zu <code>this</code> hat, wird sie in <code>getSomeData</code> als Funktionsparameter <code>handler</code> angenommen. Diese verhalten sich ähnlich wie Variablen oder reine Funktionen. Der Aufruf von <code>gotSomeData</code> bzw. <code>handler</code> bei <code>/* 2 */</code> geschieht somit nicht mehr als Methode von <code>this</code>, sondern als normale Funktion. Dadurch besitzt <code>this</code> nach diesem Aufruf bei <code>/* 3 */</code> (im &quot;strict&quot; mode) keinen Wert. Das bedeutet widerum, dass obiger Code bei <code>/* 3 */</code> einen Fehler werfen wird, da, durch die Art und Weise, wie <code>gotSomeData</code> aufgerufen wird, <code>this</code> in dieser Funktion keinen Wert besitzt.</p>
<p>Verwendet man hier jetzt nicht den &quot;strict&quot; mode von JavaScript, würde man eine Property <code>data</code> im globalen <code>window</code>-Objekt erzeugen und mit dem Wert von <code>data</code> belegen. Das würde zu keinem direkten Fehler, aber potentiell zu einen schwer auffindbaren Bug führen. <em>Also merke:</em> <strong>Immer</strong> den &quot;strict&quot; mode verwenden!</p>
<p>Übergibt man bei <code>/* 1 */</code> die Callback-Funktion nun nicht als <code>this.gotSomeData</code>, sondern als <code>this.gotSomeData.bind(this)</code>, wird diese Funktion garantiert so aufgerufen, dass <code>this</code> mit dem erwarteten Wert von <code>obj</code> belegt ist.</p>
<p><em>Übrigens</em>: <code>this.gotSomeData.bind(obj)</code> würde auch funktionieren. Es würde nur dann einen Unterschied machen, wenn <code>obj.main</code> mit einem alternativen Wert für <code>this</code> aufgerufen wird. Wann was sinnvoll ist, ist zu 100% situationsabhängig.</p>
<h2><code>this</code> und Arrow Functions</h2>
<p>Die mit ECMAScript 2015 eingeführten <em>Arrow Functions</em> verhalten sich ein klein wenig anders. Diese neuen Gefährten übernehmen automatisch den Wert <code>this</code>, der auch um sie herum bereits gilt. Das Beispiel von weiter oben funktioniert also problemlos, wenn man von Arrow Functions folgendermaßen Gebrauch macht:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getSomeData</span> <span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">doMagicStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">handler</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">/* 2 */</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">main</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">getSomeData</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">gotSomeData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">/* 1 */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">gotSomeData</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data <span class="token comment">/* 3 */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><em>Erklärung:</em> Bei <code>/* 1 */</code> wird nicht direkt die Funktion <code>gotSomeData</code> übergeben, sondern eine Arrow Function. Der Wert von <code>this</code> innerhalb dieser Funktion wird von außen übernommen, zeigt also immer noch auf <code>obj</code>. Bei <code>/* 2 */</code> wird diese neue Arrow Funktion aufgerufen, statt wie bisher direkt <code>gotSomeData</code>. Diese widerum ruft <code>gotSomeData</code> als Methode von <code>this</code> (also <code>obj</code>) auf. Damit ist der Wert von <code>this</code> immerhalb von <code>gotSomeData</code> immer noch <code>obj</code>.</p>
<h2>Der Typ von <code>this</code></h2>
<p>Zu guter Letzt noch ein Hinweis: Der Typ von <code>this</code> ist <strong>immer</strong> <code>object</code> oder <code>function</code>. Wird versucht, eine Funktion an einen anderen Wert zu binden, wird dieser Wert in ein Objekt gecastet. Aus <code>1</code> wird also <code>new Number(1)</code>. Diese Objekt-Varianten von simplen Datentypen werden von JavaScript intern immer wieder verwendet, wenn dies notwendig ist. Als JS-Entwickler braucht man sich aber nicht weiter darum kümmern, da es keine nennenswerten Auswirkungen hat.</p>
]]></content>
      </entry>
    
  
    
      
      <entry>
        <id>https://linnertmedia.de/blog/willkommen-auf-dem-neuen-blog</id>
        <link type="text/html" rel="alternate" href="https://linnertmedia.de/blog/willkommen-auf-dem-neuen-blog" />
        <title>Willkommen auf dem neuen Linnert Media-Blog</title>
        <published>Sun Jun 17 2018 00:00:00 GMT+0000 (Coordinated Universal Time)T00:00:00+00:00</published>
        <author>
          <name>Andreas Linnert</name>
          <uri>https://linnertmedia.de</uri>
        </author>
        <content type="html"><![CDATA[<p>Hola zusammen und willkommen beim neuen Linnert Media <em>Open Source-Blog</em>!</p>
<p>Wie ihr seht, wurde mein Blog grundlegend überarbeitet. Das hat mehrere Gründe:</p>
<ol>
<li>
<p>Ich verliere mit der Zeit immer mehr das Interesse an PHP und allen zusammenhängenden Technologien und Produkten. Ich bin gerade dabei eine kleine Anwendung in PHP zu entwickeln und stoße dabei immer wieder auf Probleme und Unschönheiten, die ich so von anderen Sprachen nicht kenne. Es existieren Einschränkungen, die das Arbeiten mit Web-Frameworks unnötig unschön machen. Außerdem lässt sich PHP-Code nur dank Drittsoftware debuggen (XDebug), was auch entweder zu Problemen führt (das Craft CMS-Backend in Zusammenhang mit einem bestimmten Plugin zerschießt) oder gar nicht erst funktioniert (Slim Framework). Fehler in Server-Code ohne Debugger zu finden ist... äußerst uncool.<br>
Wenn ich es außerdem schaffe, bei meinen Webseiten gänzlich auf PHP zu verzichten, kann ich mir einen PHP-Hosting-Plan und damit Geld sparen.</p>
</li>
<li>
<p>Der Workflow, eine Webseite zu aktualisieren und dabei aufzupassen, dass Datenbankstrukturen nicht zu Bruch gehen oder ähnliche Späße, fühlt sich für mich einfach falsch an. Vor allem bei einem Blog. Ich bin schon länger am Überlegen, ob dieser Workflow wirklich der Richtige ist. Aber da sich der Datenbestand bei manchen Webseiten im Live-Betrieb ändern kann, ist eine dateibasierte Umsetzung (a la SQLite) auch nicht so einfach möglich.</p>
</li>
<li>
<p>Ich verfasse meine Blog-Posts gerne als Markdown-Datei. Diese in einem CMS zu pflegen ist auch nicht das Gelbe vom Ei. Ich bin dort nicht in der Lage, die Markdown-Syntax für Bilder zu verwenden, um selbige auch auf der Webseite auszugeben. Das heißt, ich musste meinen Quellcode bei allen Bildern aufsplitten und die Bilder manuell über das CMS einpflegen.</p>
</li>
</ol>
<h2>Das neue Blog</h2>
<p>Deswegen gehe ich mit diesem Blog einen völlig anderen Weg: Ich hab mit Node.js einen eigenen kleinen Static Site Generator aufgezogen, der aus Markdown-Dateien die fertigen HTML-Dateien erstellt. Ich hab lange andere Generatoren ausprobiert, aber viele haben das Problem, dass dynamische Seiten nicht oder nur schwer erstellbar sind. Also zum Beispiel Seiten, die alle Beiträge zu einem bestimmten Tag auflisten.</p>
<p>Diese Arbeitsweise erlaubt es mir, die Seite vollständig über Git zu verwalten und außerdem als statische Seite auf <a href="https://pages.github.com/">GitHub Pages</a> zu hosten, was (abgesehen von der Domain) komplett kostenlos ist.</p>
<p>Auch habe ich die Gelegenheit genutzt, um alte Posts auszumisten. Darunter die zum Thema <em>Craft CMS</em>, da sich mit Version 3 jetzt einiges geändert hat und auch wegen den oben genannten Gründen. Die Beiträge zum Thema JavaScript werde ich aber vorerst hierlassen, auch wenn diese auch eine Überarbeitung nötig hätten. Der Eintrag zum Thema Node.js wurde bereits komplett neu überarbeitet.</p>
<h2>Was ist ein Open Source-Blog?</h2>
<p>Der komplette Quellcode dieser Webseite liegt auf <a href="https://github.com/alinnert/linnertmedia">GitHub</a>. Darüber kann ab jetzt auch vollständig die Kommunikation ablaufen, wenn es um Fragen zu einem Beitrag geht oder auch bei Ideen zu weiteren Themen, über die ich einen Beitrag verfassen kann.</p>
<p>Egal, um was es geht: Erstellt einfach ein <a href="https://github.com/alinnert/linnertmedia/issues">Issue auf GitHub</a> und ich werde es so bald wie möglich bearbeiten.</p>
<p>Aber nun viel Spaß beim Lesen!</p>
]]></content>
      </entry>
    
  
</feed>
